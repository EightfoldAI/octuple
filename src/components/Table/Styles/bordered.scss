@import './size';
@import './mixins';

.table-wrapper {
  .table {
    &-bordered {
      @include table-border();

      .table-title {
        border: var(--table-border);
        border-bottom: 0;
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead tr th,
        tbody tr td,
        tfoot tr th,
        tfoot tr td {
          border-right: var(--table-border);
        }

        tbody tr td,
        tfoot tr th,
        tfoot tr td {
          &:last-of-type {
            border-right: none;
          }
        }

        thead {
          tr th {
            border-bottom: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        // Fixed right should provide additional border
        thead tr,
        tbody tr,
        tfoot tr {
          .table-cell-fix-right-first:after {
            border-right: var(--table-border-style);
          }
        }

        tbody {
          tr:not(:last-of-type) td {
            border-bottom: var(--table-border);
          }

          tr:last-of-type td {
            border-bottom: none;
          }
        }
      }

      table tbody tr td {
        .table-expanded-row-fixed {
          margin: -$table-padding-vertical
            calc(calc($table-padding-horizontal - 1px) * -1);

          &:after {
            position: absolute;
            top: 0;
            right: 1px;
            bottom: 0;
            border-right: var(--table-border);
            content: '';
          }
        }
      }

      &.table-scroll-horizontal {
        .table-container .table-body {
          table tbody {
            tr.table-expanded-row,
            tr.table-placeholder {
              td {
                border-right: 0;
              }
            }
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border: var(--table-border);
        border-top: 0;
      }

      .table-cell {
        .table-container:first-child {
          border-top: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-cell-bordered {
      .table-title {
        border: var(--table-border);
        border-bottom: 0;
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead tr th,
        tfoot tr th {
          border-left: none;
          border-right: none;
        }

        tbody tr td,
        tfoot tr td {
          &:first-of-type {
            border-left: none;
          }

          border-right: var(--table-border);

          &:last-of-type {
            border-right: none;
          }
        }

        thead {
          tr th {
            border-bottom: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        tbody tr,
        tfoot tr {
          .table-cell-fix-right-first:after {
            border-right: var(--table-border-style);
          }
        }

        tbody {
          tr:not(:last-of-type) td {
            border-bottom: var(--table-border);
          }
        }
      }

      table tbody tr td {
        .table-expanded-row-fixed {
          margin: -$table-padding-vertical
            calc(calc($table-padding-horizontal - 1px) * -1);

          &:after {
            position: absolute;
            top: 0;
            right: 1px;
            bottom: 0;
            border-right: var(--table-border);
            content: '';
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border: var(--table-border);
        border-top: 0;
      }

      .table-cell {
        .table-container:first-child {
          border-top: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-header-bordered {
      .table-title {
        border: var(--table-border);
        border-bottom: 0;
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead tr th,
        tfoot tr th {
          &:first-of-type {
            border-left: none;
          }

          border-right: var(--table-border);
        }

        tbody tr td,
        tfoot tr td {
          border-left: none;
          border-right: none;
        }

        thead {
          tr th {
            border-bottom: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        thead tr,
        tbody tr,
        tfoot tr {
          .table-cell-fix-right-first:after {
            border-right: var(--table-border-style);
          }
        }

        tbody {
          tr td {
            border-bottom: none;
          }
        }
      }

      table tbody tr td {
        .table-expanded-row-fixed {
          margin: -$table-padding-vertical
            calc(calc($table-padding-horizontal - 1px) * -1);

          &:after {
            position: absolute;
            top: 0;
            right: 1px;
            bottom: 0;
            border-right: var(--table-border);
            content: '';
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border: var(--table-border);
      }

      .table-cell {
        .table-container:first-child {
          border-top: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-header-bottom-bordered {
      table {
        thead {
          tr th {
            border-bottom: var(--table-border);
          }
        }
      }
    }

    &-inner-bordered {
      .table-title {
        border: var(--table-border);
        border-bottom: 0;
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead tr th,
        tbody tr td,
        tfoot tr th,
        tfoot tr td {
          &:first-of-type {
            border-left: none;
          }
        }

        thead tr th,
        tbody tr td,
        tfoot tr th,
        tfoot tr td {
          border-right: var(--table-border);
        }

        tbody tr td,
        tfoot tr th,
        tfoot tr td {
          &:last-of-type {
            border-right: none;
          }
        }

        thead {
          tr th {
            border-bottom: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        thead tr,
        tbody tr,
        tfoot tr {
          .table-cell-fix-right-first:after {
            border-right: var(--table-border-style);
          }
        }

        tbody {
          tr:not(:last-of-type) td {
            border-bottom: var(--table-border);
          }
        }
      }

      table tbody tr td {
        .table-expanded-row-fixed {
          margin: -$table-padding-vertical
            calc(calc($table-padding-horizontal - 1px) * -1);

          &:after {
            position: absolute;
            top: 0;
            right: 1px;
            bottom: 0;
            border-right: var(--table-border);
            content: '';
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border: var(--table-border);
        border-top: 0;
      }

      .table-cell {
        .table-container:first-child {
          border-top: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-outer-bordered {
      @include table-border();
    }

    &-row-bordered {
      .table-title {
        border-bottom: var(--table-border);
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead {
          tr th {
            border-bottom: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        tbody {
          tr:not(:last-of-type) td {
            border-bottom: var(--table-border);
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border-top: var(--table-border);
      }

      .table-cell {
        .table-container:first-child {
          border-top: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-column-bordered {
      .table-title:not(:last-of-type) {
        border-right: var(--table-border);
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead {
          tr th:not(:last-of-type) {
            border-right: var(--table-border);
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        tbody {
          tr td:not(:last-of-type) {
            border-right: var(--table-border);
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border-right: var(--table-border);
      }

      .table-cell {
        .table-container:first-child {
          border-right: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px var(--table-header-background-color);
        }
      }
    }

    &-column-bordered {
      .table-title:not(:last-of-type) {
        border-right: $table-border;
      }

      table {
        border-collapse: separate;
        border-spacing: 0;

        thead {
          tr th:not(:last-of-type) {
            border-right: $table-border;
          }

          tr th {
            &:before {
              background-color: transparent !important;
            }
          }
        }

        tbody {
          tr td:not(:last-of-type) {
            border-right: $table-border;
          }
        }
      }

      &.table-middle {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-md
                  calc(calc($table-padding-horizontal-md - 1px) * -1);
              }
            }
          }
        }
      }

      &.table-small {
        .table-container {
          .table-content,
          .table-body {
            table tbody tr td {
              .table-expanded-row-fixed {
                margin: -$table-padding-vertical-sm
                  calc(calc($table-padding-horizontal-sm - 1px) * -1);
              }
            }
          }
        }
      }

      .table-footer {
        border-right: $table-border;
      }

      .table-cell {
        .table-container:first-child {
          border-right: 0;
        }

        &-scrollbar:not([rowspan]) {
          box-shadow: 0 1px 0 1px $table-header-background-color;
        }
      }
    }
  }
}
